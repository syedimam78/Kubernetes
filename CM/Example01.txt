üß© Scenario 1 ‚Äì Literal Key‚ÄìValue ConfigMap as Environment Variables
Step 1Ô∏è‚É£ ‚Äî Create ConfigMap
kubectl create configmap env-config \
  --from-literal=APP_ENV=production \
  --from-literal=APP_DEBUG=false \
  --from-literal=MESSAGE="Welcome from ConfigMap!"

Step 2Ô∏è‚É£ ‚Äî Verify ConfigMap
kubectl get configmaps
kubectl describe configmap env-config
kubectl get configmap env-config -o yaml


‚úÖ Expected output:

Name:         env-config
Data
====
APP_ENV: production
APP_DEBUG: false
MESSAGE: Welcome from ConfigMap!

Step 3Ô∏è‚É£ ‚Äî Create Pod Using ConfigMap

pod-env.yaml

apiVersion: v1
kind: Pod
metadata:
  name: env-demo
spec:
  containers:
    - name: busybox
      image: busybox
      command: ["sleep", "3600"]
      envFrom:
        - configMapRef:
            name: env-config


Apply:

kubectl apply -f pod-env.yaml

Step 4Ô∏è‚É£ ‚Äî Verify Pod and ConfigMap Link
kubectl get pods
kubectl describe pod env-demo


‚úÖ Check under Environment Variables from: ‚Üí ConfigMap: env-config

Step 5Ô∏è‚É£ ‚Äî Test Inside Pod
kubectl exec -it env-demo -- printenv | grep APP_
kubectl exec -it env-demo -- printenv | grep MESSAGE


‚úÖ Expected:

APP_ENV=production
APP_DEBUG=false
MESSAGE=Welcome from ConfigMap!

üß© Scenario 2 ‚Äì File-Based ConfigMap Mounted as Volume
Step 1Ô∏è‚É£ ‚Äî Create File and ConfigMap
echo -e "port=8080\nmax_connections=100" > app.properties
kubectl create configmap file-config --from-file=app.properties


Check:

kubectl get configmaps
kubectl describe configmap file-config


‚úÖ You‚Äôll see:

app.properties:
----
port=8080
max_connections=100

Step 2Ô∏è‚É£ ‚Äî Create Pod Mounting ConfigMap

pod-volume.yaml

apiVersion: v1
kind: Pod
metadata:
  name: volume-demo
spec:
  containers:
    - name: busybox
      image: busybox
      command: ["sleep", "3600"]
      volumeMounts:
        - name: config-vol
          mountPath: /etc/config
  volumes:
    - name: config-vol
      configMap:
        name: file-config


Apply:

kubectl apply -f pod-volume.yaml

Step 3Ô∏è‚É£ ‚Äî Verify Pod and Mount
kubectl get pods
kubectl describe pod volume-demo


Check for:

Mounts:
  /etc/config from config-vol (rw)
Volumes:
  config-vol:
    Type: ConfigMap (a volume populated by a ConfigMap)
    Name: file-config

Step 4Ô∏è‚É£ ‚Äî Inspect Inside Pod
kubectl exec -it volume-demo -- ls /etc/config
kubectl exec -it volume-demo -- cat /etc/config/app.properties


‚úÖ Expected:

port=8080
max_connections=100

üß© Scenario 3 ‚Äì Combined (Env + Volume) Deployment

This is how real apps use ConfigMaps in both ways.

Step 1Ô∏è‚É£ ‚Äî Create Combined YAML

deploy-combined.yaml

apiVersion: v1
kind: ConfigMap
metadata:
  name: webapp-config
data:
  APP_MODE: "testing"
  APP_COLOR: "blue"
  settings.conf: |
    [app]
    theme=dark
    retries=3
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: webapp
spec:
  replicas: 1
  selector:
    matchLabels:
      app: webapp
  template:
    metadata:
      labels:
        app: webapp
    spec:
      containers:
        - name: busybox
          image: busybox
          command: ["sleep", "3600"]
          envFrom:
            - configMapRef:
                name: webapp-config
          volumeMounts:
            - name: conf-vol
              mountPath: /opt/config
      volumes:
        - name: conf-vol
          configMap:
            name: webapp-config


Apply:

kubectl apply -f deploy-combined.yaml

Step 2Ô∏è‚É£ ‚Äî Verify ConfigMap
kubectl get configmaps
kubectl describe configmap webapp-config


‚úÖ Expected keys:

APP_MODE
APP_COLOR
settings.conf

Step 3Ô∏è‚É£ ‚Äî Verify Deployment and Pod
kubectl get deploy,pods
kubectl describe pod -l app=webapp


Check for:

Environment Variables from:
  ConfigMap: webapp-config
Volumes:
  conf-vol:
    Type: ConfigMap
    Name: webapp-config

Step 4Ô∏è‚É£ ‚Äî Validate Inside Pod
kubectl exec -it deploy/webapp -- printenv | grep APP_
kubectl exec -it deploy/webapp -- ls /opt/config
kubectl exec -it deploy/webapp -- cat /opt/config/settings.conf

kubectl exec -it <pod-name> -- sh

cat /opt/config/APP_COLOR
cat /opt/config/APP_MODE

‚úÖ Expected output:

APP_MODE=testing
APP_COLOR=blue
[app]
theme=dark
retries=3

üß© Scenario 4 ‚Äì Update ConfigMap and Redeploy
Step 1Ô∏è‚É£ ‚Äî Edit ConfigMap
kubectl edit configmap webapp-config


Change:

APP_COLOR: "green"


Save.

Step 2Ô∏è‚É£ ‚Äî Check Updated ConfigMap
kubectl get configmap webapp-config -o yaml | grep APP_COLOR


‚úÖ Output:

APP_COLOR: green

Step 3Ô∏è‚É£ ‚Äî Restart Deployment to Reload Changes
kubectl rollout restart deployment webapp

Step 4Ô∏è‚É£ ‚Äî Validate Updated Value in Pod
kubectl exec -it deploy/webapp -- printenv | grep APP_COLOR


‚úÖ Output:

APP_COLOR=green


